# jamie-annotation 注解
- 注解的作用
    - 作为特定的标记，用于告诉编译器一些信息
    - 编译时动态处理，如动态生成代码
    - 运行时动态处理，作为额外信息的载体，如获取注解信息
- 注解的分类
    - 标准注解：@Override、@Deprecated、@SuppressWarnings
    - 元注解：@Retention、@Target、@Inherited、@Documented
    - 自定义注解
- 元注解
    - 用于修饰注解的注解，通常用在注解的定义上
    - @Target：注解的作用目标
        - packages、types（类、接口、枚举、Annotation类型）
        - 类型成员（方法、构造方法、成员变量、枚举值）
        - 方法参数和本地变量(如循环变量、catch参数)
    - @Retention：注解的生命周期
        - 用来定义注解的生命周期
        - RetentionPolicy.SOURCE：只在源代码中，编译后代码不出现
        - RetentionPolicy.CLASS：编译后还存在
        - RetentionPolicy.RUNTIME：运行时有效
    - @Documented：注解是否应当被包含在JavaDoc文档中
    - @Inherited：是否允许子类继承该注解
    
- 注解获取属性值的底层实现
    - JVM会为注解生成代理对象
- 注解的工作原理
    - 通过键值对的形式为注解属性赋值
    - 编译器检查注解的使用范围，将注解信息写入元素属性表
    - 运行时JVM将RUNTIME的所有注解属性去除并最终存入map里
    - 创建AnnotationInvocationHandler实例并传入前面的map
    - JVM使用JDK动态代理为注解生成代理类，并初始化处理器
    - 调用invoke方法，通过传入方法名返回注解对应的属性值